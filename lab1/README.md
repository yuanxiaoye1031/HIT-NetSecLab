# 哈工大网络安全 实验一

## 1. Linux平台下的双向文件传输程序

1. 实验要求：在 Linux 环境下编写 C/S 程序，熟悉 socket 编程。要求客户端和服务器端能够传送指定文件。该程序在后续实验中仍需使用。客户端与服务器端在不同的机器中。 
2. 程序功能： 
   1. 客户端： 
      - 可以向服务端发送一个本目录下指定的文件，文件名由用户输入；
      - 可以从服务端下载一个服务端目录下的文件，先从服务端获得文件名列表，再由用户输入需要的文件名。 
   2. 服务端：
      - 可以监听来自客户端的连接请求；
      - 可以接收客户端传送的文件； 
      - 可以向客户端传送一个指定的文件，文件由客户端给出。 
   3. 传送文件要求：任何二进制文件。 



**代码说明**：实现了简单的基于TCP的双向文件传输功能，`ser`为服务器端程序，`cli`为客户端程序。



**使用方法**：在虚拟机中cd到相应文件夹下，使用GCC编译`main.c`文件即可。

```shell
# 在cli目录下
gcc -o client main.c

# 在ser目录下
gcc -o server main.c
```

运行代码时，需要先启动服务器端程序，再启动客户端程序，连接完成后即可在客户端进行命令行交互。

代码不太完善，但基本功能是全的。其他功能可以自行修改（如传输文件时重命名，指定文件传输目录等）



**注意**：调试代码时，一定要<font color='red'>先终止客户端程序</font>，<font color='blue'>再终止服务端程序</font>。否则会导致一段时间（大概一分钟左右）的无法连接。

